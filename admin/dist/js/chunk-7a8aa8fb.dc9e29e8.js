(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a8aa8fb"],{"0254":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"navlist"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"card-head",attrs:{slot:"header"},slot:"header"},[t._v("导航列表")]),e("div",{staticClass:"add"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.toAdd()}}},[t._v("添加")])],1),e("el-radio-group",{staticStyle:{marginBottom:"20px"},on:{change:t.change},model:{value:t.navTypeId,callback:function(a){t.navTypeId=a},expression:"navTypeId"}},[e("el-radio-button",{attrs:{label:-1}},[t._v("全部")]),t._l(t.typeList,function(a,i){return e("el-radio-button",{key:i,attrs:{label:a.navTypeId}},[t._v(t._s(a.navTypeName))])})],2),e("el-table",{staticClass:"list-table",staticStyle:{width:"100%",borderTop:"1px solid #EBEEF5"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{type:"index",width:"50"}}),e("el-table-column",{attrs:{prop:"navId",label:"导航Id",width:"80"}}),e("el-table-column",{attrs:{prop:"navName",label:"导航名称",width:"120"}}),e("el-table-column",{attrs:{prop:"navUrl",label:"Url",width:"180"}}),e("el-table-column",{attrs:{label:"头像",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{src:t.row.imgUrl,width:"100%"}})]}}])}),e("el-table-column",{attrs:{prop:"navDesc",label:"导航描述"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.toEdit(a.row)}}},[t._v("编辑")]),e("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text"},on:{click:function(e){return t.del(a.row)}}},[t._v("删除")])]}}])})],1)],1),e("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("el-form",{ref:"formData",attrs:{model:t.formData,size:"mini","label-width":"100px"}},[e("el-form-item",{attrs:{label:"导航名称",prop:"navName"}},[e("el-input",{attrs:{type:"text"},model:{value:t.formData.navName,callback:function(a){t.$set(t.formData,"navName",a)},expression:"formData.navName"}})],1),e("el-form-item",{attrs:{label:"Url",prop:"navUrl"}},[e("el-input",{attrs:{type:"text"},model:{value:t.formData.navUrl,callback:function(a){t.$set(t.formData,"navUrl",a)},expression:"formData.navUrl"}})],1),e("el-form-item",{attrs:{label:"书签类型"}},[e("el-select",{attrs:{placeholder:"请选择书签类型"},model:{value:t.formData.navTypeId,callback:function(a){t.$set(t.formData,"navTypeId",a)},expression:"formData.navTypeId"}},t._l(t.typeList,function(t,a){return e("el-option",{key:a,attrs:{label:t.navTypeName,value:t.navTypeId}})}),1)],1),e("el-form-item",{attrs:{label:"头像"}},[e("el-upload",{ref:"imgUpload",staticClass:"avatar-uploader",attrs:{action:"/post","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-form-item",{attrs:{label:"导航描述",prop:"navDesc"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.formData.navDesc,callback:function(a){t.$set(t.formData,"navDesc",a)},expression:"formData.navDesc"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.cancel()}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.toChange()}}},[t._v("确 定")])],1)],1)],1)],1)},n=[],l={name:"navList",data:function(){return{radio1:"上海",tableData:[],typeList:[],navTypeId:-1,formData:{imgUrl:"",navDesc:"",navName:"",navUrl:"",navTypeId:0},imageUrl:"",dialogVisible:!1,postData:{name:""},navId:0,title:"添加"}},methods:{change:function(){this.getData()},handleAvatarSuccess:function(t,a){this.formData.imgUrl=t.data.imgUrl,this.imageUrl=URL.createObjectURL(a.raw)},beforeAvatarUpload:function(t){var a=t.size/1024/1024<2;return a||this.$message.error("上传头像图片大小不能超过 2MB!"),a},toChange:function(){"添加"===this.title?this.add():this.edit()},toEdit:function(t){this.dialogVisible=!0,this.title="编辑",this.navId=t.navId,this.imageUrl=t.imgUrl||"",this.formData=Object.assign({},this.formData,t)},toAdd:function(){this.formData={imgUrl:"",navDesc:"",navName:"",navUrl:"",navTypeId:0},this.imageUrl="",this.dialogVisible=!0,this.title="添加"},edit:function(){var t=this;this.$axios({method:"get",url:"/navEdit",params:this.formData}).then(function(a){var e=a.data;t.getData(),t.dialogVisible=!1,t.msg(e.data,e.errStr),t.$refs.formData.resetFields()}).catch(function(t){console.log(t)})},add:function(){var t=this;this.$axios({method:"get",url:"/navAdd",params:this.formData}).then(function(a){var e=a.data;console.log(e),t.getData(),t.dialogVisible=!1,t.msg(e.data,e.errStr),t.$refs.formData.resetFields()}).catch(function(t){console.log(t)})},cancel:function(){this.dialogVisible=!1,this.$refs.formData.resetFields(),this.$refs.imgUpload.clearFiles(),this.imageUrl=""},del:function(t){var a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios({method:"get",url:"/navDelete",params:{navId:t.navId}}).then(function(t){var e=t.data;a.msg(e.data,e.errStr),a.getData()}).catch(function(t){a.msg(t,"warning")})}).catch(function(){a.msg("已取消删除","warning")})},getData:function(){var t=this;this.$axios({methods:"get",url:"/navList",params:{navTypeId:this.navTypeId}}).then(function(a){t.tableData=a.data.data}).catch(function(t){console.log(t)})},msg:function(t,a){this.$message({message:t,type:a})}},mounted:function(){var t=this;this.getData(),this.$axios.get("/navTypeList").then(function(a){t.typeList=a.data.data})}},s=l,r=(e("cacd"),e("2877")),o=Object(r["a"])(s,i,n,!1,null,null,null);a["default"]=o.exports},"1c44":function(t,a,e){},cacd:function(t,a,e){"use strict";var i=e("1c44"),n=e.n(i);n.a}}]);
//# sourceMappingURL=chunk-7a8aa8fb.dc9e29e8.js.map